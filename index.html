<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Gestione Attivit√† e Progetti</title>
    
    <!-- External CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Source+Code+Pro:wght@400;500;700&family=Inconsolata:wght@400;500;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/marked.min.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-50">

<div id="app" class="min-h-screen p-4 sm:p-6 lg:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- Header Container -->
        <div id="header-container"></div>

        <!-- Main Content -->
        <main id="main-content">
            <!-- Views Container -->
            <div id="views-container">
                <div id="view-tasks" class="view-container"></div>
                <div id="view-summary" class="view-container"></div>
                <div id="view-projects" class="view-container"></div>
                <div id="view-history" class="view-container"></div>
            </div>
        </main>
    </div>
</div>

<!-- Modals Container -->
<div id="modals-container"></div>

<!-- Loading Indicator -->
<div id="loading-indicator" style="display: none;">
    <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"></div>
            <p class="mt-4 text-gray-700 dark:text-gray-300">Caricamento...</p>
        </div>
    </div>
</div>

<!-- JavaScript Files - ORDINE CRITICO -->
<!-- 1. Component Loader (PRIMO) -->
<script src="js/loader.js"></script>

<!-- 2. Core Configuration -->
<script src="js/config.js"></script>

<!-- 3. Database Layer -->
<script src="js/database.js"></script>

<!-- 4. Utilities -->
<script src="js/utils.js"></script>

<!-- 5. Business Logic Modules -->
<script src="js/tasks.js"></script>
<script src="js/subtasks.js"></script>
<script src="js/projects.js"></script>
<script src="js/history.js"></script>
<script src="js/timers.js"></script>

<!-- 6. UI Modules -->
<script src="js/rendering.js"></script>
<script src="js/modals.js"></script>
<script src="js/views.js"></script>

<!-- 7. Application Controller -->
<script src="js/app.js"></script>

<!-- 8. Initialization (ULTIMO) -->
<script src="js/init.js"></script>

</body>
</html>